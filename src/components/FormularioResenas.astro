<!-- <form id="resena-form" class="max-w-xl mx-auto">
  <div class="p-5 m-4 border flex flex-col">
    <label for="name">Nombre Completo</label>
    <input type="text" class="border" name="name" id="name" required />
  </div>

  <div class="p-5 m-4 border flex flex-col">
    <label for="email">Correo Electrónico</label>
    <input type="email" class="border" name="email" id="email" required />
  </div>

  <div class="p-5 m-4 border flex flex-col">
    <label for="conjunto">Conjunto Residencial</label>
    <input type="text" class="border" name="conjunto" id="conjunto" required />
  </div>

  <div class="p-5 m-4 border flex flex-col">
    <label for="resena">Déjanos tu opinión</label>
    <textarea name="resena" id="resena" class="border" required></textarea>
  </div>

  <div class="text-center">
    <button type="submit" class="bg-blue-800 text-white px-4 py-2 rounded"
      >Enviar</button
    >
  </div>
</form>

<script type="module">
  const form = document.getElementById("resena-form");

  form.addEventListener("submit", async (e) => {
    e.preventDefault();

    const data = {
      name: form.name.value,
      email: form.email.value,
      conjunto:form.conjunto.value,
      resena: form.resena.value,
    };

    const res = await fetch("/api/guardarResena", {
      method: "POST",
      headers: { "Content-Type": "application/json" },
      body: JSON.stringify(data),
    });

    const result = await res.json();
    if (result.success) {
      alert("¡Gracias por tu reseña!");
      form.reset();
    } else {
      alert("Error al enviar la reseña.");
    }
  });
</script>
 -->
<section id="reseñas" class="bg-gray-100 py-16 px-6 lg:px-20">
  <div class="max-w-3xl mx-auto text-center">
    <h2 class="text-3xl md:text-4xl font-bold text-[#365b6d] mb-4">
      ¿Eres copropietario o miembro del consejo?
    </h2>
    <p class="text-gray-700 text-lg mb-10">
      Cuéntanos tu experiencia con GAPHIN. Tu opinión nos ayuda a mejorar y
      construir comunidades más organizadas y felices.
    </p>

    <form
      id="resena-form"
      class="bg-white shadow-lg rounded-lg p-8 space-y-6 text-left"
    >
      <div>
        <label for="name" class="block text-sm font-medium text-gray-700"
          >Nombre completo</label
        >
        <input
          type="text"
          id="name"
          name="name"
          required
          minlength="10"
          class="mt-1 block w-full border border-gray-300 rounded-md px-4 py-2 shadow-sm focus:ring-[#d4a413] focus:border-[#d4a413]"
        />
      </div>

      <div>
        <label for="correo" class="block text-sm font-medium text-gray-700"
          >Correo electrónico</label
        >
        <input
          type="email"
          id="email"
          name="email"
          required
          class="mt-1 block w-full border border-gray-300 rounded-md px-4 py-2 shadow-sm focus:ring-[#d4a413] focus:border-[#d4a413]"
        />
      </div>

      <div>
        <label for="conjunto" class="block text-sm font-medium text-gray-700"
          >Conjunto residencial</label
        >
        <input
          type="text"
          id="conjunto"
          name="conjunto"
          required
          class="mt-1 block w-full border border-gray-300 rounded-md px-4 py-2 shadow-sm focus:ring-[#d4a413] focus:border-[#d4a413]"
        />
      </div>

      <div>
        <label for="mensaje" class="block text-sm font-medium text-gray-700"
          >Tu reseña</label
        >
        <textarea
          id="resena"
          name="resena"
          rows="5"
          required
          class="mt-1 block w-full border border-gray-300 rounded-md px-4 py-2 shadow-sm focus:ring-[#d4a413] focus:border-[#d4a413] resize-none
"
        ></textarea>
      </div>

      <div class="text-center pt-4">
        <button
          type="submit"
          class="bg-[#d4a413] text-white font-semibold px-8 py-3 rounded-md hover:bg-[#efc442] transition duration-300 cursor-pointer"
        >
          Enviar reseña
        </button>
      </div>
    </form>
  </div>
</section>

<script type="module">
    const form = document.getElementById("resena-form");

  form.addEventListener("submit", async (e) => {
    e.preventDefault();

    const data = {
      name: form.name.value,
      email: form.email.value,
      conjunto:form.conjunto.value,
      resena: form.resena.value,
    };

    const res = await fetch("/api/guardarResena", {
      method: "POST",
      headers: { "Content-Type": "application/json" },
      body: JSON.stringify(data),
    });

    const result = await res.json();
    if (result.success) {
      alert("¡Gracias por tu reseña!");
      form.reset();
    } else {
      alert("Error al enviar la reseña.");
    }
  });
</script>
